<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>DENTAL LAB SERVICE</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü¶∑</text></svg>">
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <style>
        .photo-gallery {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            justify-content: center;
            margin: 20px;
        }
        .photo-box {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .photo-box img {
            max-width: 480px;
<!--            max-height: 720px;-->
            border: 2px solid gray;
            border-radius: 8px;
        }
    </style>
</head>
<body>

<div th:replace="fragments/nav :: main-menu"></div>

<section>
    <h2>–§–æ—Ç–æ –∑–∞–ø–∏—Å–∏</h2>
    <div th:text="${clinic} + ' : ' + ${patient}"> </div>

    <!-- üîΩ –ì–∞–ª–µ—Ä–µ—è -->
    <div class="photo-gallery">
        <div th:each="photo : ${photoLinks}" class="photo-box">
            <img th:src="${photo}"/>
            <form th:action="@{'/main/dental-works/' + ${workId} + '/photo/delete'}" method="post">
                <input type="hidden" name="photo-link" th:value="${photo}" />
                <button type="submit" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Ñ–æ—Ç–æ?')">—É–¥–∞–ª–∏—Ç—å</button>
            </form>
        </div>
    </div>

    <!-- üîº –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ -->
    <h3>–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ</h3>
    <form method="post"
          enctype="multipart/form-data"
          th:action="@{'/main/dental-works/' + ${workId} + '/photo/upload'}" name="–≤—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ">
        <input type="hidden" name="id" th:value="${workId}" />
        <input type="file" name="file" accept="image/*" required />
        <button type="submit">–∑–∞–≥—Ä—É–∑–∏—Ç—å</button>
    </form>
</section>
</body>
</html>
